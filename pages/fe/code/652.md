---
title: "ã€Q644ã€‘ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºçŽ°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠæ¬¡æ•° | codeé«˜é¢‘é¢è¯•é¢˜"
description: "ã€Q644ã€‘ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºçŽ°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠæ¬¡æ•° å­—èŠ‚è·³åŠ¨é¢è¯•é¢˜ã€é˜¿é‡Œè…¾è®¯é¢è¯•é¢˜ã€ç¾Žå›¢å°ç±³é¢è¯•é¢˜ã€‚"
---

# ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºçŽ°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠæ¬¡æ•°

> æ›´å¤šæè¿°
> è¿™æ˜¯ä¸€é“å¤§åŽ‚é¢è¯•å‡ºçŽ°é¢‘çŽ‡è¶…é«˜çš„ç¼–ç¨‹é¢˜

```js
//=> ['a', 6]
getFrequentChar("aaabbaaacc");

//=> ['a', 3]
getFrequentChar("aaa");
```

> Issue
> æ¬¢è¿Žåœ¨ Gtihub Issue ä¸­å›žç­”æ­¤é—®é¢˜: [Issue 652](https://github.com/shfshanyue/Daily-Question/issues/652)

> Author
> å›žç­”è€…: [shfshanyue](https://github.com/shfshanyue)

è§ä»£ç å®žçŽ°: [ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºçŽ°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠæ¬¡æ•°- codepen](https://codepen.io/shanyue/pen/YzVGjrv?editors=0012)

```js
function getFrequentChar(str) {
  const dict = {};
  for (const char of str) {
    dict[char] = (dict[char] || 0) + 1;
  }
  const maxBy = (list, keyBy) =>
    list.reduce((x, y) => (keyBy(x) > keyBy(y) ? x : y));
  return maxBy(Object.entries(dict), (x) => x[1]);
}
```

ä»¥ä¸‹æ–¹æ¡ˆä¸€è¾¹è¿›è¡Œè®¡æ•°ç»Ÿè®¡ä¸€éè¿›è¡Œå¤§å°æ¯”è¾ƒï¼Œåªéœ€è¦ 1 æ¬¡ `O(n)` çš„ç®—æ³•å¤æ‚åº¦

```js
function getFrequentChar2(str) {
  const dict = {};
  let maxChar = ["", 0];
  for (const char of str) {
    dict[char] = (dict[char] || 0) + 1;
    if (dict[char] > maxChar[1]) {
      maxChar = [char, dict[char]];
    }
  }
  return maxChar;
}
```

> Author
> å›žç­”è€…: [cyio](https://github.com/cyio)

```js
// entries + sort
function getFrequentChar(str) {
  const dict = {};
  for (const char of str) {
    dict[char] = (dict[char] || 0) + 1;
  }
  let list = Object.entries(dict);
  list.sort((a, b) => b[1] - a[1]);
  return list[0];
}

// test
let r = getFrequentChar("aaabccd");
console.log(r);
```

> Author
> å›žç­”è€…: [shfshanyue](https://github.com/shfshanyue)

@cyio ä½¿ç”¨ sort å¤æ‚åº¦ç«‹é©¬å°±ä¸ŠåŽ»äº†

> Author
> å›žç­”è€…: [cyio](https://github.com/cyio)

> @cyio ä½¿ç”¨ sort å¤æ‚åº¦ç«‹é©¬å°±ä¸ŠåŽ»äº†

ä»€ä¹ˆå¤æ‚åº¦ï¼Œæ—¶é—´ï¼Ÿsort æ›´å¿«

> Author
> å›žç­”è€…: [shfshanyue](https://github.com/shfshanyue)

> > @cyio ä½¿ç”¨ sort å¤æ‚åº¦ç«‹é©¬å°±ä¸ŠåŽ»äº†
>
> ä»€ä¹ˆå¤æ‚åº¦ï¼Œæ—¶é—´ï¼Ÿsort æ›´å¿«

sort æ—¶é—´å¤æ‚åº¦è‚¯å®šå°±ä¸ŠåŽ»äº†ï¼Œå®ƒå†…éƒ¨çš„æ—¶é—´å¤æ‚åº¦ O(nlogn)ï¼Œè‚¯å®šæ²¡æœ‰æ‰‹å†™ maxByï¼Œåªéœ€è¦ On çš„å¤æ‚åº¦

> Author
> å›žç­”è€…: [cyio](https://github.com/cyio)

æ©ï¼Œ ä½ è¯´çš„æ˜¯å¯¹çš„ã€‚ä¸è¿‡ï¼Œå®žé™…åœ¨ chrome/node ä¸­æ‰§è¡Œï¼Œå‘çŽ° sort å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ›´å¿«ã€‚

```js
let s = function () {
  function getFrequentChar(str) {
    const dict = {};
    for (const char of str) {
      dict[char] = (dict[char] || 0) + 1;
    }
    const maxBy = (list, keyBy) =>
      list.reduce((x, y) => (keyBy(x) > keyBy(y) ? x : y));
    return maxBy(Object.entries(dict), (x) => x[1]);
  }

  function getFrequentCharSort(str) {
    const dict = {};
    for (const char of str) {
      dict[char] = (dict[char] || 0) + 1;
    }
    let list = Object.entries(dict);
    //     console.log(list)
    list.sort((a, b) => b[1] - a[1]);
    return list[0];
  }

  function generateRamStr(len, charSet) {
    const chars =
      charSet ||
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let randomStr = "";
    for (var i = 0; i < len; i++) {
      randomStr += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return randomStr;
  }

  let str = generateRamStr(10 ** 5);
  // console.log(str)

  // test
  console.time("reduce");
  let r = getFrequentChar(str);
  console.timeEnd("reduce");
  //  console.log(r)

  console.time("sort");
  let r2 = getFrequentCharSort(str);
  console.timeEnd("sort");
  // console.log(r2)
};

for (let i = 0; i < 10; i++) {
  s();
}
```

> Author
> å›žç­”è€…: [cyio](https://github.com/cyio)

æ©ï¼Œ ä½ è¯´çš„æ˜¯å¯¹çš„ã€‚ä¸è¿‡ï¼Œå®žé™…åœ¨ chrome/node ä¸­æ‰«è¡Œï¼Œå‘çŽ° sort å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ›´å¿«ã€‚

```js
let s = function () {
  function getFrequentChar(str) {
    const dict = {};
    for (const char of str) {
      dict[char] = (dict[char] || 0) + 1;
    }
    const maxBy = (list, keyBy) =>
      list.reduce((x, y) => (keyBy(x) > keyBy(y) ? x : y));
    return maxBy(Object.entries(dict), (x) => x[1]);
  }

  function getFrequentCharSort(str) {
    const dict = {};
    for (const char of str) {
      dict[char] = (dict[char] || 0) + 1;
    }
    let list = Object.entries(dict);
    //     console.log(list)
    list.sort((a, b) => b[1] - a[1]);
    return list[0];
  }

  function generateRamStr(len, charSet) {
    const chars =
      charSet ||
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let randomStr = "";
    for (var i = 0; i < len; i++) {
      randomStr += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return randomStr;
  }

  let str = generateRamStr(10 ** 5);
  // console.log(str)

  // test
  console.time("reduce");
  let r = getFrequentChar(str);
  console.timeEnd("reduce");
  //  console.log(r)

  console.time("sort");
  let r2 = getFrequentCharSort(str);
  console.timeEnd("sort");
  // console.log(r2)
};

for (let i = 0; i < 10; i++) {
  s();
}
```

> Author
> å›žç­”è€…: [shfshanyue](https://github.com/shfshanyue)

@cyio æˆ‘è¯•äº†ä¸‹ï¼ŒæŠŠå…³äºŽ r/r2 çš„ä»£ç è°ƒæ¢ä¸‹é¡ºåºï¼Œç»“æžœå°±ç›¸åäº†ï¼Œæ˜Žå¤©æˆ‘æžä¸€ä¸ªä¸¤æ–¹å„æ‰§è¡Œä¸€ä¸‡æ¬¡çš„ benchmark è¯•ä¸€è¯•

> Author
> å›žç­”è€…: [shengrongchun](https://github.com/shengrongchun)

```js
function longStr(str) {
  let results = [];
  for (let key of str) {
    const reg = new RegExp(key, "g");
    const arr = str.match(reg) || [];
    if (arr.length > results.length) {
      results = arr;
    }
  }
  return [results[0], results.length];
}
```

> Author
> å›žç­”è€…: [justorez](https://github.com/justorez)

> > @cyio ä½¿ç”¨ sort å¤æ‚åº¦ç«‹é©¬å°±ä¸ŠåŽ»äº†
>
> ä»€ä¹ˆå¤æ‚åº¦ï¼Œæ—¶é—´ï¼Ÿsort æ›´å¿«

åšé¢˜çœ‹æ—¶é—´å¤æ‚åº¦å°±è¡Œäº†å§ï¼Œå®žé™…çŽ¯å¢ƒv8æœ‰å„ç§ä¼˜åŒ–ï¼Œå°±è¯´ä¸æ¸…äº†ã€‚

> Author
> å›žç­”è€…: [Hazel-Lin](https://github.com/Hazel-Lin)

```js
console.log(getFrequentChar("aacc"));
console.log(getFrequentChar("aaccccaaaa"));
console.log(getFrequentChar("baaaabbcc"));

function getFrequentChar(string) {
  let obj = {};
  let maxStr = ["", 0];
  for (const char of string) {
    obj[char] = (obj[char] || 0) + 1;
    // obj[char] ? obj[char]++ : (obj[char] = 1)
    if (obj[char] > maxStr[1]) {
      maxStr = [char, obj[char]];
    } else if (obj[char] === maxStr[1]) {
      maxStr = maxStr.concat([char, obj[char]]);
    }
  }
  return maxStr;
}
```

å­¦åˆ°äº†ï¼Œå­¦åˆ°å°±æ˜¯èµšåˆ° ðŸ˜„
